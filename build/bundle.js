var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(t){return null==t?"":t}function l(t,n){t.appendChild(n)}function u(t,n,e){t.insertBefore(n,e||null)}function a(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function h(){return d(" ")}function m(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function g(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}let p;function b(t){p=t}function $(){const t=function(){if(!p)throw new Error("Function called outside component initialization");return p}();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const r=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach(n=>{n.call(t,r)})}}}const y=[],v=[],w=[],F=[],k=Promise.resolve();let x=!1;function E(t){w.push(t)}function _(){const t=new Set;do{for(;y.length;){const t=y.shift();b(t),B(t.$$)}for(;v.length;)v.pop()();for(let n=0;n<w.length;n+=1){const e=w[n];t.has(e)||(e(),t.add(e))}w.length=0}while(y.length);for(;F.length;)F.pop()();x=!1}function B(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(E)}}const H=new Set;let C;function M(t,n){t&&t.i&&(H.delete(t),t.i(n))}function N(t,n,e,o){if(t&&t.o){if(H.has(t))return;H.add(t),C.c.push(()=>{H.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}function S(t,n){N(t,1,1,()=>{n.delete(t.key)})}function L(t){t&&t.c()}function j(t,n,o){const{fragment:c,on_mount:s,on_destroy:l,after_update:u}=t.$$;c&&c.m(n,o),E(()=>{const n=s.map(e).filter(i);l?l.push(...n):r(n),t.$$.on_mount=[]}),u.forEach(E)}function T(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function A(t,n){-1===t.$$.dirty[0]&&(y.push(t),x||(x=!0,k.then(_)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function O(n,e,i,c,s,l,u=[-1]){const a=p;b(n);const f=e.props||{},d=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:o(),dirty:u};let h=!1;d.ctx=i?i(n,f,(t,e,o=e)=>(d.ctx&&s(d.ctx[t],d.ctx[t]=o)&&(d.bound[t]&&d.bound[t](o),h&&A(n,t)),e)):[],d.update(),h=!0,r(d.before_update),d.fragment=!!c&&c(d.ctx),e.target&&(e.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(e.target)):d.fragment&&d.fragment.c(),e.intro&&M(n.$$.fragment),j(n,e.target,e.anchor),_()),b(a)}class P{$destroy(){T(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}var q=(t,n)=>{let e=new Set(Object.keys(n));return e.forEach(e=>{t.style.setProperty(`--${e}`,n[e])}),{update(n){const o=new Set(Object.keys(n));o.forEach(o=>{t.style.setProperty(`--${o}`,n[o]),e.delete(o)}),e.forEach(n=>t.style.removeProperty(`--${n}`)),e=o}}};function z(t){let n;return{c(){n=d("ðŸ’¥")},m(t,e){u(t,n,e)},d(t){t&&a(n)}}}function I(t){let n;return{c(){n=d("ðŸš©")},m(t,e){u(t,n,e)},d(t){t&&a(n)}}}function D(t){let n;return{c(){n=d(t[3])},m(t,e){u(t,n,e)},p(t,e){8&e&&function(t,n){n=""+n,t.data!==n&&(t.data=n)}(n,t[3])},d(t){t&&a(n)}}}function R(n){let e,o,i,c,d,p=n[1]&&!n[0]&&z(),b=n[2]&&I(),$=!n[0]&&n[3]>0&&D(n);return{c(){e=f("div"),p&&p.c(),o=h(),b&&b.c(),i=h(),$&&$.c(),g(e,"class",c=s(n[0]?"cell hidden":"cell")+" svelte-1qvnyhz"),d=[m(e,"click",n[4]),m(e,"contextmenu",n[5])]},m(t,n){u(t,e,n),p&&p.m(e,null),l(e,o),b&&b.m(e,null),l(e,i),$&&$.m(e,null)},p(t,[n]){t[1]&&!t[0]?p||(p=z(),p.c(),p.m(e,o)):p&&(p.d(1),p=null),t[2]?b||(b=I(),b.c(),b.m(e,i)):b&&(b.d(1),b=null),!t[0]&&t[3]>0?$?$.p(t,n):($=D(t),$.c(),$.m(e,null)):$&&($.d(1),$=null),1&n&&c!==(c=s(t[0]?"cell hidden":"cell")+" svelte-1qvnyhz")&&g(e,"class",c)},i:t,o:t,d(t){t&&a(e),p&&p.d(),b&&b.d(),$&&$.d(),r(d)}}}function G(t,n,e){let{id:o}=n,{isHidden:r=!0}=n,{isBomb:i=!1}=n,{hasFlag:c=!1}=n,{bombsNearby:s=0}=n;const l=$();return t.$set=t=>{"id"in t&&e(6,o=t.id),"isHidden"in t&&e(0,r=t.isHidden),"isBomb"in t&&e(1,i=t.isBomb),"hasFlag"in t&&e(2,c=t.hasFlag),"bombsNearby"in t&&e(3,s=t.bombsNearby)},[r,i,c,s,function(){c||l("stepInto",{id:o})},function(t){t.preventDefault(),r&&l("toggleFlag",{id:o})},o]}class J extends P{constructor(t){super(),O(this,t,G,R,c,{id:6,isHidden:0,isBomb:1,hasFlag:2,bombsNearby:3})}}function K(t,n,e){const o=[];for(let e=0;e<t*n;e++)o.push({isHidden:!0});for(let t=0;t<e;t++)o[t].isBomb=!0;o.sort(()=>Math.random()-Math.random());for(let t=1;t<=o.length;t++)o[t-1].id=t;return o}function Q(t,n){const e=U(n,t);return e.isHidden=!1,e.isBomb||function t(n,e){n.isHidden=!1,n.hasFlag=!1;const o=function(t,n){const{width:e}=n,o=[],r=U.bind(void 0,n);t%e!=1&&o.push(r(t-1+e),r(t-1),r(t-1-e));t%e!=0&&o.push(r(t+1-e),r(t+1),r(t+1+e));return[...o,r(t-e),r(t+e)].filter(t=>void 0!==t)}(n.id,e),r=o.filter(({isBomb:t})=>t).length;if(n.bombsNearby=r,0===r)for(const n of o.filter(({isHidden:t})=>t))t(n,e)}(e,n),n.cells}function U(t,n){return t.cells[n-1]}function V(t,n,e){const o=t.slice();return o[11]=n[e],o}function W(t,e){let o,r;const c=[e[11]];let s={};for(let t=0;t<c.length;t+=1)s=n(s,c[t]);const l=new J({props:s});return l.$on("stepInto",(function(){i("running"===e[1]?e[4]:e[6])&&("running"===e[1]?e[4]:e[6]).apply(this,arguments)})),l.$on("toggleFlag",(function(){i("running"===e[1]?e[5]:e[6])&&("running"===e[1]?e[5]:e[6]).apply(this,arguments)})),{key:t,first:null,c(){o=d(""),L(l.$$.fragment),this.first=o},m(t,n){u(t,o,n),j(l,t,n),r=!0},p(t,n){e=t;const o=4&n?function(t,n){const e={},o={},r={$$scope:1};let i=t.length;for(;i--;){const c=t[i],s=n[i];if(s){for(const t in c)t in s||(o[t]=1);for(const t in s)r[t]||(e[t]=s[t],r[t]=1);t[i]=s}else for(const t in c)r[t]=1}for(const t in o)t in e||(e[t]=void 0);return e}(c,[(r=e[11],"object"==typeof r&&null!==r?r:{})]):{};var r;l.$set(o)},i(t){r||(M(l.$$.fragment,t),r=!0)},o(t){N(l.$$.fragment,t),r=!1},d(t){t&&a(o),T(l,t)}}}function X(n){let e,o,c,s,p,b,$,y,v=[],w=new Map,F=n[2];const k=t=>t[11].id;for(let t=0;t<F.length;t+=1){let e=V(n,F,t),o=k(e);w.set(o,v[t]=W(o,e))}return{c(){e=f("div");for(let t=0;t<v.length;t+=1)v[t].c();var r;c=h(),s=f("button"),p=d("Restart"),g(e,"class","board svelte-14rnfbc"),s.disabled=b="running"===n[1],y=[(r=o=q.call(null,e,n[0]),r&&i(r.destroy)?r.destroy:t),m(e,"contextmenu",Y),m(s,"click",n[3])]},m(t,n){u(t,e,n);for(let t=0;t<v.length;t+=1)v[t].m(e,null);u(t,c,n),u(t,s,n),l(s,p),$=!0},p(t,[n]){const c=t[2];C={r:0,c:[],p:C},v=function(t,n,e,o,r,i,c,s,l,u,a,f){let d=t.length,h=i.length,m=d;const g={};for(;m--;)g[t[m].key]=m;const p=[],b=new Map,$=new Map;for(m=h;m--;){const t=f(r,i,m),s=e(t);let l=c.get(s);l?o&&l.p(t,n):(l=u(s,t),l.c()),b.set(s,p[m]=l),s in g&&$.set(s,Math.abs(m-g[s]))}const y=new Set,v=new Set;function w(t){M(t,1),t.m(s,a),c.set(t.key,t),a=t.first,h--}for(;d&&h;){const n=p[h-1],e=t[d-1],o=n.key,r=e.key;n===e?(a=n.first,d--,h--):b.has(r)?!c.has(o)||y.has(o)?w(n):v.has(r)?d--:$.get(o)>$.get(r)?(v.add(o),w(n)):(y.add(r),d--):(l(e,c),d--)}for(;d--;){const n=t[d];b.has(n.key)||l(n,c)}for(;h;)w(p[h-1]);return p}(v,n,k,1,t,c,w,e,S,W,null,V),C.r||r(C.c),C=C.p,o&&i(o.update)&&1&n&&o.update.call(null,t[0]),(!$||2&n&&b!==(b="running"===t[1]))&&(s.disabled=b)},i(t){if(!$){for(let t=0;t<F.length;t+=1)M(v[t]);$=!0}},o(t){for(let t=0;t<v.length;t+=1)N(v[t]);$=!1},d(t){t&&a(e);for(let t=0;t<v.length;t+=1)v[t].d();t&&a(c),t&&a(s),r(y)}}}const Y=t=>t.preventDefault();function Z(t,n,e){let{width:o=15}=n,{height:r=12}=n,{bombsCount:i=Math.floor(o*r*.05)}=n,c={width:o,height:r},s="running",l=K(o,r,i);function u(t){return"lost"===t?"#FFBB73":"win"===t?"#06799F":"#FFFFFF"}return t.$set=t=>{"width"in t&&e(7,o=t.width),"height"in t&&e(8,r=t.height),"bombsCount"in t&&e(9,i=t.bombsCount)},t.$$.update=()=>{4&t.$$.dirty&&e(1,s=function(t){const[n,e,o]=t.reduce(([t,n,e],o)=>!o.isHidden&&o.isBomb?[t+1,n,e]:!o.hasFlag&&o.isBomb?[t,n+1,e]:!o.isBomb&&o.isHidden?[t,n,e+1]:[t,n,e],[0,0,0]);return n>0?"lost":0===e&&0===o?"win":"running"}(l)),3&t.$$.dirty&&e(0,c={...c,color:u(s)})},[c,s,l,function(){e(1,s="running"),e(2,l=K(o,r,i))},function(t){e(2,l=Q(t.detail.id,{width:o,height:r,bombsCount:i,cells:l}))},function(t){e(2,l=function(t,n){const e=U(n,t);return e.hasFlag=!e.hasFlag,n.cells}(t.detail.id,{width:o,height:r,bombsCount:i,cells:l}))},()=>{},o,r,i]}class tt extends P{constructor(t){super(),O(this,t,Z,X,c,{width:7,height:8,bombsCount:9})}}function nt(n){let e,o,r,i,c,s,m,p,b,$;const y=new tt({props:{width:20,height:17}});return{c(){e=f("main"),o=f("p"),o.innerHTML='This is a simple minesweeper game made I made with <a href="https://svelte.dev/" target="">Svelte</a>.',r=h(),i=f("p"),i.innerHTML='Check out the <a href="https://github.com/cuchi/svelte-minesweeper" target="">source code</a> and leave a star :)',c=h(),s=f("hr"),m=d("\n\tControls:\n\t"),p=f("ul"),p.innerHTML="<li><b>Left click</b>: uncover</li> \n\t\t<li><b>Right click</b>: toggle flag</li>",b=h(),L(y.$$.fragment),g(e,"class","svelte-4uu1eg")},m(t,n){u(t,e,n),l(e,o),l(e,r),l(e,i),l(e,c),l(e,s),l(e,m),l(e,p),l(e,b),j(y,e,null),$=!0},p:t,i(t){$||(M(y.$$.fragment,t),$=!0)},o(t){N(y.$$.fragment,t),$=!1},d(t){t&&a(e),T(y)}}}return new class extends P{constructor(t){super(),O(this,t,null,nt,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
